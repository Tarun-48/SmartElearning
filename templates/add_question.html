<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Question - Smart E-Learning</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script>
        // Validate that the correct option matches one of the 4 options
        function validateForm() {
            const option1 = document.getElementById("option1").value.trim();
            const option2 = document.getElementById("option2").value.trim();
            const option3 = document.getElementById("option3").value.trim();
            const option4 = document.getElementById("option4").value.trim();
            const correct = document.getElementById("correct_option").value.trim();

            const options = [option1, option2, option3, option4];

            if (!options.includes(correct)) {
                alert("❌ The Correct Option must exactly match one of the four options above.");
                return false;
            }
            return true;
        }
    </script>
</head>
<body>
    <header>
        <h1>Smart E-Learning Admin</h1>
        <nav>
            <a href="{{ url_for('home') }}">Home</a>
            <a href="{{ url_for('add_exam') }}">Add Exam</a>
            <a href="{{ url_for('logout') }}" class="logout">Logout</a>
        </nav>
    </header>

    <main>
        <div class="form-box">
            <h2>Add Question to <span style="color:#1abc9c;">{{ exam.title }}</span></h2>

            <form method="POST" onsubmit="return validateForm()">
                <label for="question_text">Question:</label>
                <textarea id="question_text" name="question_text" required
                    style="width:100%; height:100px; padding:10px; border-radius:8px; border:1px solid #bdc3c7; font-size:1em;"></textarea>

                <label for="option1">Option 1:</label>
                <input type="text" id="option1" name="option1" required>

                <label for="option2">Option 2:</label>
                <input type="text" id="option2" name="option2" required>

                <label for="option3">Option 3:</label>
                <input type="text" id="option3" name="option3" required>

                <label for="option4">Option 4:</label>
                <input type="text" id="option4" name="option4" required>

                <label for="correct_option">Correct Option (must match one of the above):</label>
                <input type="text" id="correct_option" name="correct_option" required>

                <button type="submit" class="btn">Add Question</button>
            </form>
        </div>
    </main>

    <footer>
        <p>© 2025 Smart E-Learning System</p>
    </footer>
</body>
</html>
